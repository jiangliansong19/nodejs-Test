<!DOCTYPE html>
<html>

<head>
	<title>login</title>
	<script type="text/javascript" src="js/jQuery3.3.1.js"></script>
	<script type="text/javascript" src="js/jQuery.form.js"></script>
	<style type="text/css">
		.content {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			padding: 20px;
		}

		form input {
			width: 200px;
			height: 28px;
			line-height: 40px;
			margin: 10px 20px;
		}

		form button {
			height: 40px;
			background-color: lightblue;
			margin: 10px 20px;
			width: 200px;
			height: 35px;
		}
	</style>

</head>

<body>

	<body>
		<div class="content">
			<form id="form1">
				<input type="text" name="account"><br />
				<input type="text" name="password"><br />
			</form>
			<button id="loginButtn">login</button>
		</div>

		<script>
			$(document).ready(function () {
				$("#loginButtn").click(function () {
					var account = document.forms[0].elements[0].value;
					var password = document.forms[0].elements[1].value;
					$.ajax({
						type: "post",
						url: "http://localhost:8888/login",
						data: { account: account, password: password },
						dataType: "json",
						async: true,
						success: function (result) {
							if (result.account) {
								console.log("user = " + JSON.stringify(result));
								localStorage.setItem("user", JSON.stringify(result));
								location.href = "info.html"
							} else {
								alert(result.message);
							}

						},
						failure: function (error) {
							console.log(error);
						}
					});
				})
			})


		</script>

	</body>

</body>

</html>